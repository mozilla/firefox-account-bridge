<div id="clients" class="settings-unit {{#isPanelOpen}}open{{/isPanelOpen}}">
  <div class="settings-unit-stub">
    <header class="settings-unit-summary">
      <h2 class="settings-unit-title">{{#t}}Devices & apps{{/t}}</h2>
    </header>
    <button class="settings-button secondary settings-unit-toggle hidden"
      data-href="settings/clients">
      {{#t}}Show{{/t}}
    </button>
  </div>

  <div class="settings-unit-details">
    <div class="error"></div>

    <form novalidate>
      <ul class="client-list button-row">
        {{#clients}}

            {{#isDevice}}
              <li class="client {{type}} client-device {{#isCurrentDevice}}client-current{{/isCurrentDevice}}"
                {{#genericOS}}data-os="{{genericOS}}"{{/genericOS}}
                data-name="{{name}}"
                id="{{id}}">
                <div class="client-name" title="{{title}}">{{name}}</div>
                {{#isCurrentDevice}}
                    <div class="device-current">{{#t}}current device{{/t}}</div>
                {{/isCurrentDevice}}
                {{^isCurrentDevice}}
                    <div class="last-connected">{{lastAccessTimeFormatted}}</div>
                {{/isCurrentDevice}}
                <button class="settings-button warning client-disconnect" data-id="{{id}}" data-type="{{clientType}}">{{#t}}Disconnectâ€¦{{/t}}</button>
              </li>
            {{/isDevice}}

            {{#areWebSessionsVisible}}
            {{#isWebSession}}
                <li class="client {{type}} client-webSession"
                    {{#genericOS}}data-os="{{genericOS}}"{{/genericOS}}
                    data-name="{{name}}"
                    id="{{id}}">
                    <div class="client-name" title="{{title}}">{{title}}</div>
                  {{#isCurrentDevice}}
                    <div class="device-current">{{#t}}current session{{/t}}</div>
                  {{/isCurrentDevice}}
                  {{^isCurrentDevice}}
                    <div class="last-connected">{{lastAccessTimeFormatted}}</div>
                  {{/isCurrentDevice}}
                    <button class="settings-button warning client-disconnect" data-id="{{id}}" data-type="{{clientType}}">{{#t}}Disconnect{{/t}}</button>
                </li>
            {{/isWebSession}}
            {{/areWebSessionsVisible}}

            {{#isOAuthApp}}
                <li class="client {{type}} client-oAuthApp" data-name="{{name}}" id="{{id}}">
                  <div class="client-name" title="{{title}}">{{name}}</div>
                    <div class="last-connected">{{userAgent}} {{lastAccessTimeFormatted}}</div>
                  <button class="settings-button warning client-disconnect" data-id="{{id}}" data-type="{{clientType}}">{{#t}}Disconnect{{/t}}</button>
                </li>
            {{/isOAuthApp}}

        {{/clients}}
        {{#showMobileApps}}
          <li class="client mobile" data-os="iOS">
            <div class="client-name">{{#t}}Firefox for iOS{{/t}}</div>
            <div class="last-connected">{{#t}}none connected{{/t}}</div>
            <a target="_blank" href="{{ linkIOS }}" class="settings-button secondary" data-get-app="ios">{{#t}}Download{{/t}}</a>
          </li>
          <li class="client mobile" data-os="Android">
            <div class="client-name">{{#t}}Firefox for Android{{/t}}</div>
            <div class="last-connected">{{#t}}none connected{{/t}}</div>
            <a target="_blank" href="{{ linkAndroid }}" class="settings-button secondary" data-get-app="android">{{#t}}Download{{/t}}</a>
          </li>
        {{/showMobileApps}}
        <a href="{{devicesSupportUrl}}">{{#t}}Missing or duplicate items?{{/t}}</a>
      </ul>

      <div class="button-row">
        <button type="submit" class="settings-button primary clients-refresh">{{#t}}Refresh{{/t}}</button>
        <button class="settings-button secondary cancel">{{#t}}Done{{/t}}</button>
      </div>
    </form>
  </div>
</div>
